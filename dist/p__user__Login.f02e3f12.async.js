(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{2603:function(H,I,e){"use strict";e.d(I,{Z:function(){return t}});var F=e(28991),W=e(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},v=V,C=e(27029),j=function(q,Y){return W.createElement(C.Z,(0,F.Z)((0,F.Z)({},q),{},{ref:Y,icon:v}))};j.displayName="LockOutlined";var t=W.forwardRef(j)},84134:function(H,I,e){"use strict";e.d(I,{U:function(){return ge}});var F=e(22122),W=e(84305),V=e(39559),v=e(28991),C=e(81253),j=e(54787),t=e(67294),w=e(9715),q=e(55843),Y=e(10898),le=e(96156),pe=e(49111),ie=e(19650),_=e(28481),he=e(8812),ue=e(56725),ee=e(53621),de=e(94184),te=e.n(de),ce=e(49263),z=e(5309),ye=e(61951),ne=t.forwardRef(function(s,p){var o=t.useContext(ce.Z),L=o.groupProps,r=(0,v.Z)((0,v.Z)({},L),s),y=r.children,O=r.collapsible,n=r.defaultCollapsed,i=r.style,K=r.labelLayout,D=r.title,u=D===void 0?s.label:D,h=r.tooltip,a=r.align,m=a===void 0?"start":a,G=r.direction,P=r.size,M=P===void 0?32:P,S=r.titleStyle,R=r.titleRender,d=r.spaceProps,g=r.extra,N=r.autoFocus,B=(0,ue.Z)(function(){return n||!1},{value:s.collapsed,onChange:s.onCollapse}),ae=(0,_.Z)(B,2),J=ae[0],se=ae[1],oe=(0,t.useContext)(V.ZP.ConfigContext),U=oe.getPrefixCls,Z=(0,z.z)(s),E=Z.ColWrapper,x=Z.RowWrapper,c=U("pro-form-group"),f=O&&t.createElement(he.Z,{style:{marginRight:8},rotate:J?void 0:90}),$=t.createElement(ee.Z,{label:f?t.createElement("div",null,f,u):u,tooltip:h}),Q=(0,t.useCallback)(function(A){var k=A.children;return t.createElement(ie.Z,(0,F.Z)({},d,{className:te()("".concat(c,"-container"),d==null?void 0:d.className),size:M,align:m,direction:G,style:(0,v.Z)({rowGap:0},d==null?void 0:d.style)}),k)},[m,c,G,M,d]),X=R?R($,s):$,xe=(0,t.useMemo)(function(){var A=[],k=t.Children.toArray(y).map(function(T,Me){var fe;return t.isValidElement(T)&&(T==null||(fe=T.props)===null||fe===void 0?void 0:fe.hidden)?(A.push(T),null):Me===0&&t.isValidElement(T)&&N?t.cloneElement(T,(0,v.Z)((0,v.Z)({},T.props),{},{autoFocus:N})):T});return[t.createElement(x,{key:"children",Wrapper:Q},k),A.length>0?t.createElement("div",{style:{display:"none"}},A):null]},[y,x,Q,N]),l=(0,_.Z)(xe,2),Ce=l[0],Pe=l[1];return t.createElement(E,null,t.createElement("div",{className:te()(c,(0,le.Z)({},"".concat(c,"-twoLine"),K==="twoLine")),style:i,ref:p},Pe,(u||h||g)&&t.createElement("div",{className:"".concat(c,"-title"),style:S,onClick:function(){se(!J)}},g?t.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},X,t.createElement("span",{onClick:function(k){return k.stopPropagation()}},g)):X),O&&J?null:Ce))});ne.displayName="ProForm-Group";var ve=ne,me=e(30805);function b(s){return t.createElement(Y.I,(0,F.Z)({layout:"vertical",submitter:{render:function(o,L){return L.reverse()}},contentRender:function(o,L){return t.createElement(t.Fragment,null,o,L)}},s))}b.Group=ve,b.useForm=q.Z.useForm,b.Item=me.Z;var Ze=e(54217),re=["logo","message","contentStyle","title","subTitle","actions","children"];function ge(s){var p=s.logo,o=s.message,L=s.contentStyle,r=s.title,y=s.subTitle,O=s.actions,n=s.children,i=(0,C.Z)(s,re),K=(0,j.YB)(),D=i.submitter===!1?!1:(0,v.Z)((0,v.Z)({searchConfig:{submitText:K.getMessage("loginForm.submitText","\u767B\u5F55")},submitButtonProps:{size:"large",style:{width:"100%"}}},i.submitter),{},{render:function(P,M){var S,R,d=M.pop();if((i==null||(S=i.submitter)===null||S===void 0?void 0:S.render)===void 0)return d;if(typeof(i==null||(R=i.submitter)===null||R===void 0?void 0:R.render)=="function"){var g,N;return i==null||(g=i.submitter)===null||g===void 0||(N=g.render)===null||N===void 0?void 0:N.call(g,P,M)}return d}}),u=(0,t.useContext)(V.ZP.ConfigContext),h=u.getPrefixCls("pro-form-login"),a=function(P){return"".concat(h,"-").concat(P)},m=(0,t.useMemo)(function(){return p?typeof p=="string"?t.createElement("img",{src:p}):p:null},[p]);return t.createElement("div",{className:a("container")},t.createElement("div",{className:a("top")},r||m?t.createElement("div",{className:a("header")},m?t.createElement("span",{className:a("logo")},m):null,r?t.createElement("span",{className:a("title")},r):null):null,y?t.createElement("div",{className:a("desc")},y):null),t.createElement("div",{className:a("main"),style:(0,v.Z)({width:328},L)},t.createElement(b,(0,F.Z)({isKeyPressSubmit:!0},i,{submitter:D}),o,n),O?t.createElement("div",{className:a("other")},O):null))}},34687:function(H){H.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},61951:function(){},54217:function(){},42872:function(H,I,e){"use strict";e.d(I,{C:function(){return F}});var F="https://avatars.githubusercontent.com/u/24926026?v=4"},66766:function(H,I,e){"use strict";e.r(I),e.d(I,{default:function(){return D}});var F=e(18106),W=e(95562),V=e(34792),v=e(48086),C=e(39428),j=e(11849),t=e(3182),w=e(2824),q=e(17462),Y=e(76772),le=e(71390),pe=e(93387),ie=e(89366),_=e(2603),he=e(63185),ue=e(9676),ee=e(22122),de=e(28991),te=e(81253),ce=e(22270),z=e(67294),ye=e(248),ne=e(10044),ve=["options","fieldProps","proFieldProps","valueEnum"],me=z.forwardRef(function(u,h){var a=u.options,m=u.fieldProps,G=u.proFieldProps,P=u.valueEnum,M=(0,te.Z)(u,ve);return z.createElement(ne.Z,(0,ee.Z)({ref:h,valueType:"checkbox",mode:"edit",valueEnum:(0,ce.h)(P,void 0),fieldProps:(0,de.Z)({options:a},m),proFieldProps:G},M))}),b=z.forwardRef(function(u,h){var a=u.fieldProps,m=u.children;return z.createElement(ue.Z,(0,ee.Z)({ref:h},a),m)}),Ze=(0,ye.G)(b,{valuePropName:"checked"}),re=Ze;re.Group=me;var ge=re,s=e(84134),p=e(47745),o=e(89470),L=e(73727),r=e(34687),y=e.n(r),O=e(42872),n=e(85893),i=function(h){var a=h.content;return(0,n.jsx)(Y.Z,{style:{marginBottom:24},message:a,type:"error",showIcon:!0})},K=function(){var h=(0,z.useState)({}),a=(0,w.Z)(h,2),m=a[0],G=a[1],P=(0,z.useState)("account"),M=(0,w.Z)(P,2),S=M[0],R=M[1],d=(0,o.tT)("@@initialState"),g=d.initialState,N=d.setInitialState,B=(0,o.YB)(),ae=function(){var U=(0,t.Z)((0,C.Z)().mark(function Z(){var E,x;return(0,C.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,g==null||(E=g.fetchUserInfo)===null||E===void 0?void 0:E.call(g);case 2:if(x=f.sent,!x){f.next=6;break}return f.next=6,N(function($){return(0,j.Z)((0,j.Z)({},$),{},{currentUser:x})});case 6:case"end":return f.stop()}},Z)}));return function(){return U.apply(this,arguments)}}(),J=function(){var U=(0,t.Z)((0,C.Z)().mark(function Z(E){var x,c,f,$,Q,X;return(0,C.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,pe.x4)((0,j.Z)((0,j.Z)({},E),{},{type:S}));case 3:if(x=l.sent,!x){l.next=15;break}return c=B.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),v.ZP.success(c),l.next=9,ae();case 9:if(o.m8){l.next=11;break}return l.abrupt("return");case 11:return f=o.m8.location.query,$=f,Q=$.redirect,o.m8.push(Q||"/"),l.abrupt("return");case 15:G(x),l.next=22;break;case 18:l.prev=18,l.t0=l.catch(0),X=B.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),v.ZP.error(X);case 22:case"end":return l.stop()}},Z,null,[[0,18]])}));return function(E){return U.apply(this,arguments)}}(),se=m.status,oe=m.type;return(0,n.jsxs)("div",{className:y().container,children:[(0,n.jsx)("div",{className:y().lang,"data-lang":!0,children:o.pD&&(0,n.jsx)(o.pD,{})}),"s",(0,n.jsx)("div",{className:y().content,children:(0,n.jsxs)(s.U,{logo:(0,n.jsx)("img",{alt:"logo",src:O.C}),title:"\u7F16\u7A0B\u732B",subTitle:B.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var U=(0,t.Z)((0,C.Z)().mark(function Z(E){return(0,C.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,J(E);case 2:case"end":return c.stop()}},Z)}));return function(Z){return U.apply(this,arguments)}}(),children:[(0,n.jsx)(W.Z,{activeKey:S,onChange:R,children:(0,n.jsx)(W.Z.TabPane,{tab:B.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),se==="error"&&oe==="account"&&(0,n.jsx)(i,{content:B.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),S==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,n.jsx)(ie.Z,{className:y().prefixIcon})},placeholder:B.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,n.jsx)(o._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,n.jsx)(p.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,n.jsx)(_.Z,{className:y().prefixIcon})},placeholder:B.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,n.jsx)(o._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:8,type:"string",message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8\uFF01"}]})]}),se==="error"&&oe==="mobile"&&(0,n.jsx)(i,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)(ge,{noStyle:!0,name:"autoLogin",children:(0,n.jsx)(o._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,n.jsx)("a",{style:{float:"right"},href:"https://github.com/k9evin/",target:"_blank",rel:"noreferrer",children:(0,n.jsx)(o._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]}),(0,n.jsx)("p",{children:(0,n.jsx)(L.rU,{to:"/user/register",children:(0,n.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ant-btn-lg",style:{width:"100%"},children:(0,n.jsx)("span",{children:"\u65B0 \u7528 \u6237 \u6CE8 \u518C"})})})})]})}),(0,n.jsx)(le.Z,{})]})},D=K}}]);
